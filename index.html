<html lang="en">
	<head>
		<title>Deck Baluster Spacing Calculator</title>
		<style>
			fieldset {
				width: 400px
			}
			
			label,
			input[type=text],
			input[type=number] {
				display: block;
				width: 100%;
			}
			
			label:not(first-of-type),
			input[type=button] {
				margin-top: 5px;
			}
		</style>
		<script>
			document.addEventListener("DOMContentLoaded", function() {
				var inputGroupElement = document.getElementById("inputGroup");
				var onCenterSpacingElement = document.getElementById("onCenterSpacing");
				var balusterWidthElement = document.getElementById("balusterWidth");
				var railingLengthElement = document.getElementById("railingLength");
				var calculateElement = document.getElementById("calculate");
				var balustersRequiredElement = document.getElementById("balustersRequired");
				var balusterSpacingElement = document.getElementById("balusterSpacing");
				var balusterSpacingBetweenElement = document.getElementById("balusterSpacingBetween");
				
				inputGroupElement.addEventListener("keydown", function(e) {
					if (e.keyCode === 13) {
						calculateElement.click();
					}
				});
				
				calculateElement.addEventListener("click", function() {
					var onCenterSpacingValue = parseFloat(onCenterSpacingElement.value);
					var balusterWidthValue = parseFloat(balusterWidthElement.value);
					var railingLengthValue = parseFloat(railingLengthElement.value);
					console.log("On-center spacing value:", onCenterSpacingValue, "Baluster width value:", balusterWidthValue, "Railing length value:", railingLengthValue);
					
					// Railing length + width of one baluster
					var RL = railingLengthValue + balusterWidthValue;
					console.log("RL calculation value:", RL);
					
					// On-center spacing + width of one baluster
					var BW = onCenterSpacingValue + balusterWidthValue;
					console.log("BW calculation value:", BW);
					
					// Divide RL by BW and round down to nearest whole number
					var RB = Math.floor(RL / BW);
					console.log("RB calculation value:", RB);
					
					// Multiply balusters required (RB) by baluster width, subtract this from RL, then divide by RB+1
					var BS = (RL - (RB * balusterWidthValue)) / (RB + 1);
					console.log("BS calculation value:", BS);
					
					balustersRequiredElement.value = String(RB);
					balusterSpacingElement.value = String(BS);
					balusterSpacingBetween.value = String(BS - balusterWidthValue);
				});
			});
		</script>
	</head>
	<body>
		<h1>Deck Baluster Spacing</h1>
	
		<fieldset id="inputGroup">
			<legend>Input</legend>
			<label for="onCenterSpacing">On Center Spacing</label>
			<input type="number" id="onCenterSpacing" />
			<label for="balusterWidth">Baluster Width</label>
			<input type="number" id="balusterWidth" />
			<label for="railingLength">Railing Length</label>
			<input type="number" id="railingLength" />
			<input type="button" id="calculate" value="Calculate" />
		</fieldset>
			
		<fieldset>
			<legend>Output</legend>
			<label for="balustersRequired">Balusters Required</label>
			<input type="text" id="balustersRequired" readOnly />
			<label for="balusterSpacing">Baluster Spacing (for even, on-center, baluster spacing)</label>
			<input type="text" id="balusterSpacing" readOnly />
			<label for="balusterSpacingBetween">Baluster Spacing (between balusters)</label>
			<input type="text" id="balusterSpacingBetween" readOnly />
		</fieldset>
		
		<ul>
			<li>For an odd number of balusters locate the first one at the center of the railing. The baluster should be centered directly underneath the center of the railing.</li>
			<li>For an even number of required balusters, you will need to locate the first two balusters from the center railing point half the baluster spacing amount.</li>
		</ul>
		
		<p>
			Credit: <a href="http://www.homeadditionplus.com/dev/finish_carpentry/how-to-evenly-space-balusters/">http://www.homeadditionplus.com/dev/finish_carpentry/how-to-evenly-space-balusters/</a>
		</p>
	</body>
</html>
